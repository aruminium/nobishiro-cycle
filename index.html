<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport"/>
<title>あるみ式のびしろサイクル</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/>
<style>
    :root {
      --bg-color: #fff6f9;
      --card-bg: #ffffff;
      --center-bg: #fffcef;
      --accent-color: #f5aac0;
      --text-color: #ee7d9b;
      --shadow-color: rgba(245, 170, 192, 0.3);
      --border-color: rgba(238, 125, 155, 0.2);
      --blue-accent: #7db9ee;
      --error-color: #ee7d7d;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Zen Maru Gothic', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      line-height: 1.6;
      padding: 20px;
    }
    
    .container {
      max-width: 1000px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .header h1 {
      font-size: 2.2rem;
      color: var(--text-color);
      margin-bottom: 10px;
    }
    
    .header p {
      font-size: 1.1rem;
      color: var(--text-color);
      opacity: 0.8;
      max-width: 600px;
      margin: 0 auto;
    }
    
    /* Storage message */
    .storage-note {
      background-color: rgba(245, 170, 192, 0.1);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 15px;
      margin: 20px auto;
      max-width: 800px;
      font-size: 0.9rem;
      color: var(--text-color);
      text-align: center;
    }
    
    .storage-note p {
      margin: 5px 0;
    }
    
    /* Tabs Navigation */
    .tabs-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 30px;
    }
    
    .tab-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      padding: 12px 20px;
      background-color: var(--card-bg);
      color: var(--text-color);
      border: 1px solid var(--border-color);
      border-radius: 30px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 2px 5px var(--shadow-color);
      display: flex;
      align-items: center;
      gap: 6px;
      touch-action: manipulation;
    }
    
    .tab-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px var(--shadow-color);
    }
    
    .tab-button.active {
      background-color: var(--accent-color);
      color: white;
      box-shadow: 0 4px 10px var(--shadow-color);
    }
    
    /* Tab Content */
    .tab-content {
      background-color: var(--card-bg);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 8px 20px var(--shadow-color);
      margin-bottom: 40px;
      min-height: 60vh;
    }
    
    .tab-panel {
      display: none;
    }
    
    .tab-panel.active {
      display: block;
      animation: fadeIn 0.3s ease-out forwards;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .section-title {
      font-size: 1.8rem;
      color: var(--text-color);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .section-description {
      font-size: 1rem;
      color: var(--text-color);
      opacity: 0.8;
      margin-bottom: 25px;
      max-width: 700px;
    }
    
    /* Cards Grid for AS-IS section */
    .asis-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .card {
      background-color: var(--card-bg);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 4px 8px var(--shadow-color);
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
      height: 100%;
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px var(--shadow-color);
    }
    
    .tobe-card {
      background-color: var(--center-bg);
      border-color: var(--accent-color);
    }
    
    .card-title {
      font-size: 1.2rem;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--text-color);
    }
    
    .card-subtitle {
      font-size: 0.95rem;
      color: var(--text-color);
      opacity: 0.8;
      margin-bottom: 15px;
    }
    
    textarea {
      width: 100%;
      min-height: 150px;
      border: 1px solid var(--border-color);
      border-radius: 8px;
      padding: 10px;
      font-family: 'Zen Maru Gothic', sans-serif;
      resize: vertical;
      color: #555;
      font-size: 0.95rem;
      transition: all 0.3s ease;
    }
    
    textarea:focus {
      outline: none;
      border-color: var(--accent-color);
      box-shadow: 0 0 0 3px var(--shadow-color);
    }
    
    /* Navigation buttons */
    .tab-navigation {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
    }
    
    .nav-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      padding: 10px 20px;
      background-color: var(--blue-accent);
      color: white;
      border: none;
      border-radius: 30px;
      font-family: 'Zen Maru Gothic', sans-serif;
      font-size: 1rem;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(125, 185, 238, 0.3);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      touch-action: manipulation;
    }
    
    .nav-button:hover {
      background-color: #6baae0;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(125, 185, 238, 0.4);
    }
    
    .nav-button.prev {
      background-color: #999;
    }
    
    .nav-button.prev:hover {
      background-color: #777;
    }
    
    .nav-button.invisible {
      visibility: hidden;
    }
    
    /* Progress bar */
    .progress-container {
      margin: 0 auto 30px;
      width: 100%;
      max-width: 800px;
    }
    
    .progress-bar {
      width: 100%;
      height: 8px;
      background-color: rgba(245, 170, 192, 0.2);
      border-radius: 4px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      background-color: var(--accent-color);
      width: 0%;
      transition: width 0.5s ease;
    }
    
    .progress-labels {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      font-size: 0.8rem;
      color: var(--text-color);
      opacity: 0.8;
    }
    
    /* Save Button */
    .save-button {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background-color: var(--accent-color);
      color: white;
      border: none;
      border-radius: 50%;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: all 0.3s ease;
      z-index: 100;
      touch-action: manipulation;
    }
    
    .save-button:hover {
      transform: scale(1.1);
    }
    
    /* Notification */
    .notification {
      position: fixed;
      bottom: 100px;
      right: 30px;
      background-color: var(--accent-color);
      color: white;
      padding: 12px 20px;
      border-radius: 8px;
      font-size: 0.9rem;
      box-shadow: 0 4px 10px var(--shadow-color);
      transform: translateY(100px);
      opacity: 0;
      transition: all 0.5s ease;
      z-index: 100;
    }
    
    .notification.show {
      transform: translateY(0);
      opacity: 1;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .asis-grid {
        grid-template-columns: 1fr;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .tab-button {
        font-size: 0.9rem;
        padding: 10px 15px;
      }
      
      .tab-content {
        padding: 20px;
      }
    }
  </style>
</head>
<body>
<div class="container" style="position: fixed; bottom: 24px; right: 24px; z-index: 1000;">
<div class="header">
<h1>🌀 あるみ式のびしろサイクル</h1>
<p>自己分析と行動設計のためのサイクル思考フレームワーク</p>
</div>
<div class="storage-note" style="display: none;">
<p>⚠️ ローカルストレージが使用できません。データ保存機能は限定的に動作します。</p>
<p>※ブラウザを更新するとデータが消去されます。</p>
<p>完全な機能を使う場合はウェブサーバー上でご利用ください。</p>
</div>
<div class="progress-container">
<div class="progress-bar">
<div class="progress-fill" id="progressBar"></div>
</div>
<div class="progress-labels">
<span>サイクル進行状況</span>
<span id="progressText">0%</span>
</div>
</div>
<!-- Tabs Navigation -->
<div class="tabs-nav" id="tabsNav">
<button class="tab-button active" data-tab="tobe">🌈 TO-BE</button>
<button class="tab-button" data-tab="asis">🔍 AS-IS</button>
<button class="tab-button" data-tab="rule">❌ RULE</button>
<button class="tab-button" data-tab="perk">🧰 PERK</button>
<button class="tab-button" data-tab="action">🛠 ACTION</button>
<button class="tab-button" data-tab="check">✅ CHECK</button>
</div>
<!-- Tab Content -->
<div class="tab-content">
<!-- TO-BE Tab -->
<div class="tab-panel active" id="tobe-panel">
<h2 class="section-title">🌈 TO-BE（なりたい姿・理想の状態）</h2>
<p class="section-description">ワクワクできる未来をイメージしましょう。あなたの目指したい状態・ありたい姿はどんなものですか？</p>
<div class="card tobe-card">
<h3 class="card-title">理想の状態を描く</h3>
<p class="card-subtitle">目標ではなく、どんな風に生きていたいか、あり方を描いてみよう</p>
<textarea data-section="tobe" id="tobe-input" placeholder="こんなふうに生きたい！どんな状態が理想？"></textarea>
</div>
<div class="tab-navigation">
<button class="nav-button prev invisible">◀ 前へ</button>
<button class="nav-button next" data-next="asis">次へ ▶</button>
</div>
</div>
<!-- AS-IS Tab -->
<div class="tab-panel" id="asis-panel">
<h2 class="section-title">🔍 AS-IS（現状分析）</h2>
<p class="section-description">現状を多角的に棚卸しましょう。自分自身や環境を客観的に見つめることで、次の一手が見えてきます。</p>
<div class="asis-grid">
<div class="card">
<h3 class="card-title">「理想とのギャップ」</h3>
<p class="card-subtitle">理想と比べて今の自分はどう？</p>
<textarea data-section="asis" id="asis-gap" placeholder="理想と比べて、どこで引っかかってる？"></textarea>
</div>
<div class="card">
<h3 class="card-title">「課題・つまずき」</h3>
<p class="card-subtitle">最近しんどいこと・止まっていることは？</p>
<textarea data-section="asis" id="asis-challenges" placeholder="どこでつまずいてる？何が難しい？"></textarea>
</div>
<div class="card">
<h3 class="card-title">「感情・不安・焦り」</h3>
<p class="card-subtitle">モヤモヤしてることは？</p>
<textarea data-section="asis" id="asis-emotions" placeholder="なんとなく不安なこと、ぼんやりでもOKです"></textarea>
</div>
<div class="card">
<h3 class="card-title">「外的な制約」</h3>
<p class="card-subtitle">自分では動かせない環境要因って？</p>
<textarea data-section="asis" id="asis-constraints" placeholder="周りの状況で変えられないことは？"></textarea>
</div>
<div class="card">
<h3 class="card-title">「過去の影響・トラウマ」</h3>
<p class="card-subtitle">昔の経験が今の行動に影響してる？</p>
<textarea data-section="asis" id="asis-past" placeholder="過去の経験で今も影響してることある？"></textarea>
</div>
</div>
<div class="tab-navigation">
<button class="nav-button prev" data-prev="tobe">◀ 前へ</button>
<button class="nav-button next" data-next="rule">次へ ▶</button>
</div>
</div>
<!-- RULE Tab -->
<div class="tab-panel" id="rule-panel">
<h2 class="section-title">❌ RULE（やらないこと・避けたい方向）</h2>
<p class="section-description">自分を守るための境界線を設定しましょう。「もうこれはやらない」と決めることで、効率的に前に進めます。</p>
<div class="card">
<h3 class="card-title">自分を守る設計</h3>
<p class="card-subtitle">無理しないための"やらない宣言"を書こう</p>
<textarea data-section="rule" id="rule-input" placeholder="これはもうやらない、避けたいことを書いてみよう"></textarea>
</div>
<div class="tab-navigation">
<button class="nav-button prev" data-prev="asis">◀ 前へ</button>
<button class="nav-button next" data-next="perk">次へ ▶</button>
</div>
</div>
<!-- PERK Tab -->
<div class="tab-panel" id="perk-panel">
<h2 class="section-title">🧰 PERK（使える装備）</h2>
<p class="section-description">今の自分が持つ強みやリソースを見つめましょう。既に手に入れたスキルや経験、人脈も大切な装備です。</p>
<div class="card">
<h3 class="card-title">自分の装備を見つめる</h3>
<p class="card-subtitle">今のスキル・経験・知識を棚卸しする</p>
<textarea data-section="perk" id="perk-input" placeholder="今の自分にある武器って？使えるスキルは？"></textarea>
</div>
<div class="tab-navigation">
<button class="nav-button prev" data-prev="rule">◀ 前へ</button>
<button class="nav-button next" data-next="action">次へ ▶</button>
</div>
</div>
<!-- ACTION Tab -->
<div class="tab-panel" id="action-panel">
<h2 class="section-title">🛠 ACTION（手段・行動）</h2>
<p class="section-description">理想に近づくための具体的な一歩を設計しましょう。TO-BEに近づくために、今の自分にできることは何でしょう？</p>
<div class="card">
<h3 class="card-title">次の一手を考える</h3>
<p class="card-subtitle">理想に近づくために今できることは？</p>
<textarea data-section="action" id="action-input" placeholder="具体的に何をする？いつまでに？どうやって？"></textarea>
</div>
<div class="tab-navigation">
<button class="nav-button prev" data-prev="perk">◀ 前へ</button>
<button class="nav-button next" data-next="check">次へ ▶</button>
</div>
</div>
<!-- CHECK Tab -->
<div class="tab-panel" id="check-panel">
<h2 class="section-title">✅ CHECK（振り返り）</h2>
<p class="section-description">行動の結果を振り返り、次のサイクルにつなげましょう。うまくいったこと、改善点、次に試したいことを整理します。</p>
<div class="card">
<h3 class="card-title">KPTで振り返る</h3>
<p class="card-subtitle">Keep／Problem／Tryで次のサイクルにつなげよう</p>
<textarea data-section="check" id="check-input" placeholder="よかったこと／改善点／次にやってみること"></textarea>
</div>
<div class="tab-navigation">
<button class="nav-button prev" data-prev="action">◀ 前へ</button>
<button class="nav-button next restart" data-next="tobe">サイクル再始動 🔄</button>
</div>
<div style="text-align:center; margin-top:2rem;">
<button id="generate-image-btn" style="padding:0.6rem 1.2rem; background:#7db9ee; color:white; border:none; border-radius:20px; font-size:1rem;">画像にする</button>
</div>
<div id="review-image-container" style="display:none; text-align:center; margin-top:1.5rem;">
<img alt="のびしろ記録" id="review-image" src="" style="max-width:100%; border:1px solid #ccc; border-radius:10px;"/>
<p style="font-size:0.9rem; margin-top:1rem;">
        📲 <strong>画像を長押しして保存してね！</strong><br/>
        💻 PCの方は <strong>右クリック → 名前をつけて保存</strong> でもOK！
      </p>
<a href="#" id="tweet-btn" style="display:inline-block; padding:0.5rem 1rem; background:#1DA1F2; color:white; border-radius:20px; text-decoration:none;" target="_blank">
        ツイートする
      </a>
</div>
</div>
</div>
<button class="save-button" id="saveButton" style="background: #f5aac0; color: white; padding: 1rem 2rem; font-size: 1rem; border-radius: 40px; border: none; box-shadow: 0 4px 8px rgba(0,0,0,0.2); cursor: pointer; display: inline-block; width: auto; min-width: 150px; text-align: center;">💾</button>
<div class="notification" id="saveNotification">保存しました！</div>
</div>



<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const saveButton = document.querySelector(".save-button");
    const textareas = document.querySelectorAll("textarea");

    function saveInputs() {
      textareas.forEach((ta, index) => {
        localStorage.setItem("arumi_input_" + index, ta.value);
      });
    }

    function restoreInputs() {
      textareas.forEach((ta, index) => {
        const saved = localStorage.getItem("arumi_input_" + index);
        if (saved) ta.value = saved;
      });
    }

    restoreInputs();

    textareas.forEach((ta, index) => {
      const key = "arumi_input_" + index;
      ta.addEventListener("input", () => {
        localStorage.setItem(key, ta.value);
      });
    });

    if (saveButton) {
      saveButton.addEventListener("click", () => {
        saveInputs();
        saveButton.classList.add("saved-animation");
        setTimeout(() => saveButton.classList.remove("saved-animation"), 1000);
      });
    }

    const generateBtn = document.getElementById("generate-image-btn");
    const outputContainer = document.getElementById("review-image-container");
    const outputImg = document.getElementById("review-image");
    const tweetBtn = document.getElementById("tweet-btn");

    generateBtn.addEventListener("click", () => {
      saveInputs();
      html2canvas(document.body, {
        windowWidth: document.body.scrollWidth,
        scale: 2
      }).then(canvas => {
        const dataURL = canvas.toDataURL("image/png");
        outputImg.src = dataURL;
        outputContainer.style.display = "block";
        tweetBtn.href = "https://twitter.com/intent/tweet?hashtags=あるみ式のびしろサイクル&text=" + encodeURIComponent("のびしろ記録、可視化してみた！");
      });
    });
  });
</script>
</body></html>
